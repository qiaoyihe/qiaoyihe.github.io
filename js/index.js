!function(){const e=document.querySelector(".btn-backtotop"),t=document.querySelector(".content ");window.addEventListener("scroll",(function(){let n=document.documentElement.scrollTop>t.offsetTop?1:0;e.style.opacity=n})),e.addEventListener("click",(function(){document.documentElement.scrollTop=0}))}(),function(){const e=document.querySelectorAll(".categories-a"),t=document.querySelectorAll(".page-content .classtest-link");function n(){return`${parseInt(256*Math.random())},${parseInt(256*Math.random())},${parseInt(256*Math.random())}`}e.forEach((e=>{const t=parseInt(13*Math.random())+12,o=n();e.style.color=`rgba(${o})`,e.style.fontSize=`${t}px`})),t.forEach((e=>{const t=parseInt(13*Math.random())+12,o=n();e.style.color=`rgba(${o})`,e.style.fontSize=`${t}px`}))}(),window.addEventListener("scroll",(function(){const e=document.querySelector(".right-toc"),t=document.querySelector(".post-copyright");let n=document.documentElement.scrollTop;e&&(n>=e.offsetTop&&(e.classList.add("catalogue"),n<259&&e.classList.remove("catalogue")),n>=t.offsetTop-400&&e.classList.remove("catalogue"))})),function(){const e=document.querySelector("#local-search-input"),t=document.querySelector(".local-search-content"),n=document.querySelector(".search");function o(c){n.contains(c.target)||("block"===t.style.display&&(t.style.display="none"),e.value=""),"none"===t.style.display&&document.removeEventListener("click",o)}e&&e.addEventListener("focus",(function(){t.style.display="block",(t.style.display="none")&&(t.style.display="block"),setTimeout((function(){document.addEventListener("click",o)}),300)}))}(),function(){const e=document.querySelector(".header-nav-items"),t=document.querySelectorAll(".header-nav-item-child");let n=0;e.addEventListener("mouseover",(function(e){if(clearTimeout(n),"header-nav-page"===e.target.className){o(),e.target.nextElementSibling.style.display="block"}})),t.forEach((e=>{clearTimeout(n),e.addEventListener("mouseleave",(function(){this.style.display="none"}))})),e.addEventListener("mouseleave",(function(){clearTimeout(n),n=setTimeout((function(){o()}),50)}));function o(){t.forEach((e=>{e.style.display="none",clearTimeout(n)}))}document.querySelector(".header-nav-items").addEventListener("click",(function(e){if("SPAN"===e.target.tagName){o(),e.target.parentNode.nextElementSibling.style.display="block"}}))}(),function(){const e=document.querySelector(".sidebar"),t=document.querySelector(".header-nav-fenlei");function n(t){e.querySelector(".sidebar-content").contains(t.target)||(e.classList.remove("sidebar-open"),e.querySelector(".sidebar-content").classList.remove("sidebar-content-open"),document.body.style.overflow="scroll",document.body.style.position="relative"),document.querySelector(".sidebar-open")||document.removeEventListener("click",n)}t.addEventListener("click",(function(){clearTimeout(0),document.querySelector(".sidebar-open")||(e.classList.add("sidebar-open"),e.querySelector(".sidebar-content").classList.add("sidebar-content-open"),document.body.style.position="fixed",document.body.style.overflow="hidden",setTimeout((function(){document.addEventListener("click",n)}),300))}))}(),function(){const e=document.querySelector(".photo-img");e&&e.addEventListener("click",(function(t){"photo-p-m"===t.target.className&&(e.querySelectorAll(".photo-w").forEach((e=>{e.classList.add("photo-contImgClose")})),p=t.target.parentNode,p.parentNode.classList.remove("photo-contImgClose"),p.parentNode.classList.add("photo-contImgOpen"),p.parentNode.style.width="100%",p.style.display="none",p.nextElementSibling.classList.add("photo-contImgFlag"))}))}(),function(){const e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("span"),o=document.querySelector(".photo .left .page-item"),c=document.createElement("b"),i=document.createElement("i"),s=document.createElement("div"),l=document.querySelector(".left .talks");l&&l.addEventListener("click",(function(e){if("IMG"===e.target.tagName){const t=l.querySelector(".active");t&&t.classList.remove("active"),d(e.target.src,e.target.dataset.id),e.target.parentNode.parentNode.classList.add("active")}}));const a=document.querySelector(".left .post-content");function r(t){e.contains(t.target)||(e.style.display="none",s.style.display="none",document.removeEventListener("click",r))}function d(o,l){s.classList.add("maskBigDiv"),s.style.display="block",document.body.appendChild(s),e.style.display="block",e.classList.add("bigDiv"),t.classList.add("bigPicture"),t.src=o,t.dataset.id=l,e.appendChild(t),n.classList.add("closePicture"),n.innerText="X",e.appendChild(n),document.body.appendChild(e),setTimeout((()=>{document.addEventListener("click",r)}),100),c.classList.add("pictureSpan"),c.classList.add("pictureSpan1"),c.innerText="<",i.classList.add("pictureSpan"),i.classList.add("pictureSpan2"),i.innerText=">",e.appendChild(c),e.appendChild(i)}a&&a.addEventListener("click",(function(e){"IMG"===e.target.tagName&&d(e.target.src,e.target.dataset.id)})),o&&o.addEventListener("click",(function(e){"IMG"===e.target.tagName&&d(e.target.src,e.target.dataset.id)})),n.addEventListener("click",(function(){e.style.display="none",s.style.display="none",document.removeEventListener("click",r)})),e.addEventListener("click",(function(e){let t;if(document.querySelector(".left .post-content")&&(t=document.querySelectorAll(".left .post-content img")),o&&(t=o.querySelectorAll(".photo-contImgOpen .photo-contImg img")),l&&(t=l.querySelectorAll(".active img")),t)if("B"===e.target.tagName){let n;t.forEach((({src:t},o)=>{t===e.target.previousElementSibling.previousElementSibling.src&&(n=o)})),n||(n=t.length),d(t[n-1].src,t[n-1].dataset.id)}else if("I"===e.target.tagName){let n;t.forEach((({src:t},o)=>{t===e.target.previousElementSibling.previousElementSibling.previousElementSibling.src&&(n=o)})),n===t.length-1&&(n=-1),d(t[n+1].src,t[n+1].dataset.id)}}))}(),function(){const e=document.querySelector(".link-alert-btn"),t=document.querySelector(".link-alert"),n=document.createElement("div");if(!e)return;function o(e){t.contains(e.target)||c()}function c(){t.classList.remove("bigDiv"),t.style.display="none",n.classList.remove("maskBigDiv"),document.removeEventListener("click",o)}e.addEventListener("click",(function(){t.classList.add("bigDivs"),t.style.display="block",n.classList.add("maskBigDiv"),n.style.display="block",document.body.appendChild(n),setTimeout((()=>{document.addEventListener("click",o)}),100)})),t.querySelector(".link-alert-title div").addEventListener("click",(function(){c()}));t.querySelector(".link-alert-form").addEventListener("submit",(function(e){e.preventDefault();const t=this.querySelector("div"),n=this.querySelectorAll("input"),o=[...n].every((e=>e.value));let c={};if(o){n.forEach((e=>{c[e.name]=e.value}));let e=[];for(let t in c)e.push(`${t}=${c[t]}`);t.style.opacity=1,t.innerText="功能暂未完成!!!",this.reset();const o=new XMLHttpRequest;o.open("post","http://localhost:3000/api/link"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(e.join("&"))}else t.style.opacity=1,t.innerText="功能暂未完成!!!"}))}();